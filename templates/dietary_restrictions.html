{% extends "base.html" %}

{% block title %}FitPlan - Dietary Restrictions{% endblock %}

{% block content %}
<div class="phone-frame">
    <div class="progress-bar">
        <div class="progress-fill" style="width: 78%"></div>
    </div>
    <div class="step-indicator">Step 7 of 9 â€¢ Dietary Restrictions</div>
    
    <div class="scrollable-content">
        <h3 style="font-size: 18px; margin-bottom: 10px; text-align: center;">Any dietary restrictions?</h3>
        <p style="font-size: 14px; color: #666; text-align: center; margin-bottom: 25px;">Select all that apply to you</p>
        
        <form method="POST" action="{{ url_for('save_dietary_restrictions') }}" id="dietaryForm" autocomplete="off">
            <div class="goal-options">
                <label class="goal-option multi-select" for="vegetarian">
                    <input type="checkbox" name="dietary_restrictions" value="vegetarian" id="vegetarian"
                           {% if user and user.dietary_restrictions and 'vegetarian' in user.dietary_restrictions %}checked{% endif %}>
                    <div class="goal-icon">ðŸ¥—</div>
                    <div class="goal-text">
                        <div class="goal-title">Vegetarian</div>
                        <div class="goal-desc">No meat, but includes dairy and eggs</div>
                    </div>
                </label>
                
                <label class="goal-option multi-select" for="gluten-free">
                    <input type="checkbox" name="dietary_restrictions" value="gluten-free" id="gluten-free"
                           {% if user and user.dietary_restrictions and 'gluten-free' in user.dietary_restrictions %}checked{% endif %}>
                    <div class="goal-icon">ðŸŒ±</div>
                    <div class="goal-text">
                        <div class="goal-title">Gluten-Free</div>
                        <div class="goal-desc">No wheat, barley, rye, or gluten</div>
                    </div>
                </label>
                
                <label class="goal-option multi-select" for="lactose-free">
                    <input type="checkbox" name="dietary_restrictions" value="lactose-free" id="lactose-free"
                           {% if user and user.dietary_restrictions and 'lactose-free' in user.dietary_restrictions %}checked{% endif %}>
                    <div class="goal-icon">ðŸ¥›</div>
                    <div class="goal-text">
                        <div class="goal-title">Lactose-Free</div>
                        <div class="goal-desc">No dairy products</div>
                    </div>
                </label>
                
                <label class="goal-option multi-select" for="nut-allergy">
                    <input type="checkbox" name="dietary_restrictions" value="nut-allergy" id="nut-allergy"
                           {% if user and user.dietary_restrictions and 'nut-allergy' in user.dietary_restrictions %}checked{% endif %}>
                    <div class="goal-icon">ðŸ¥œ</div>
                    <div class="goal-text">
                        <div class="goal-title">Nut Allergy</div>
                        <div class="goal-desc">No nuts or nut-based products</div>
                    </div>
                </label>
                
                <label class="goal-option multi-select" for="none">
                    <input type="checkbox" name="dietary_restrictions" value="none" id="none"
                           {% if user and user.dietary_restrictions and 'none' in user.dietary_restrictions %}checked{% endif %}>
                    <div class="goal-icon">âœ…</div>
                    <div class="goal-text">
                        <div class="goal-title">None</div>
                        <div class="goal-desc">No dietary restrictions</div>
                    </div>
                </label>
            </div>
        </form>
    </div>
    
    <div class="navigation">
        <a href="{{ url_for('physical_limitations') }}">
            <button type="button" class="btn-back">Back</button>
        </a>
        <button type="submit" form="dietaryForm" class="btn-next">Next</button>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/forms.js') }}"></script>
{% endblock %}
